<template>
  <require from="./search.scss"></require>

  <form action="/" target="_self" method="get">
    <div class="mdc-layout-grid">
      <div class="mdc-layout-grid__inner">
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-11">
          <mdc-text-field name="q" value.two-way="model.q" outlined label="Search" style="width: 100%; height: 36px;"></mdc-text-field>        
        </div>
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-1">
          <input type="submit" value="Search" mdc-button unelevated class="big-round-shape-button">
        </div>
      </div>
    </div>
    
    <br>
    <br>
    <div if.bind="displayModel.searchFor.length">
      <label><input type="checkbox" name="withCherry" checked.bind="model.withCherry">Cherry</label>
      <label><input type="checkbox" name="withApple" checked.bind="model.withApple">Apple</label>
    </div>
    <br>
    <br>
    

    <br><br>
    <div>Search For: ${displayModel.searchFor ? displayModel.searchFor : 'HUY'}</div>
    <br><br>
    <div>Query: ${displayModel.router}</div>

    <br><br><br><br>

    <div>
      <div class="mdc-layout-grid">
        <!-- The item starts here -->
        <div class="mdc-layout-grid__inner search-item" repeat.for="item of data.items">
          <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
            <div class="mdc-layout-grid__inner">
              <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">
                <a href="#" title="Link to Main Case of the Document">
                  ${item.document.title}
                </a>
              </div>
              <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">
                <a href="#" title="Link to Main Case of the Document">
                  ${item.mainCase.id}
                </a>
              </div>
              <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4">
                <a repeat.for="filter of item.filteredWith" href="#">${filter.value}</a>/
              </div>
            </div>
            <div class="mdc-layout-grid__inner">
              <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
                <span repeat.for="fragment of item.fragments">
                  <span repeat.for="word of fragment.text.split(' ')" class="${getHighlightItemIndex($index, fragment) ? 'text-fragment__highlight' : ''}">${word}${$last ? '...': ' '}</span>
                </span>
              </div>
            </div>
            <div class="mdc-layout-grid__inner">
              <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
                <mdc-expandable accordion>
                  <div slot="caption">Lorem ipsum dolor...</div>
                  Lorem ipsum dolor sit amet, ad erat postea ullamcorper nec, veri veniam quo et. Diam phaedrum ei mea, quaeque
                  voluptaria efficiantur duo no. Eu adhuc veritus civibus nec, sumo invidunt mel id, in vim dictas detraxit. Per
                  an legere iriure blandit. Veri iisque accusamus an pri.
                </mdc-expandable>
              </div>
            </div>
            <div class="mdc-layout-grid__inner">
              
            </div>
          </div>          
        </div>        
        <!-- The item ends here -->
      </div>      
    </div>
    
  </form>
</template>
